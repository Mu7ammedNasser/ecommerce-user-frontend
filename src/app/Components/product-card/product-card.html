<div class="relative w-full max-w-7xl mx-auto px-4">
    <!-- Carousel Container -->
    <div class="overflow-hidden">
        <div class="flex gap-5 transition-transform duration-500 ease-in-out"
            [style.transform]="'translateX(-' + (currentIndex * (100 / itemsPerView)) + '%)'">

            @for(card of cardsData; track card.name) {
            <div class="flex-shrink-0" [style.width]="'calc((100% / ' + itemsPerView + ') - 1.25rem)'">
                <!-- Card -->
                <div class="bg-[#1C252E] min-h-95 rounded-2xl flex flex-col gap-2 items-start px-6 py-4">

                    <!-- Image div -->
                    <div>
                      <a routerLink ="/product-details/:1"><img src="/assets/watch.png" alt="" class="rounded-2xl w-full" ></a>  
                    </div>

                    <!-- Text -->
                    <div class="flex justify-between w-full">
                        <p class="text-white font-bold">{{card.name}}</p>
                        <p class="text-[#258CF4]">{{card.price}}</p>
                    </div>

                    <div>
                        <p class="text-[#9BAAB9]">{{card.description}}</p>
                    </div>

                    <!-- Button -->
                    <div class="w-full">
                        <button
                            class="bg-[#283039] text-white w-full py-2 rounded-lg cursor-pointer hover:bg-[#323d47] transition-colors">
                            <i class="fa-solid fa-cart-plus"></i> Quick Add
                        </button>
                    </div>
                </div>
            </div>
            }
        </div>
    </div>

    <!-- Previous Button -->
    <button (click)="prev()" [disabled]="!canGoPrev" [class.opacity-50]="!canGoPrev"
        [class.cursor-not-allowed]="!canGoPrev"
        class="absolute top-1/2 left-0 -translate-y-1/2 z-30 flex items-center justify-center w-10 h-10 rounded-full bg-white/30 hover:bg-white/50 focus:outline-none focus:ring-4 focus:ring-white transition-all">
        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
    </button>

    <!-- Next Button -->
    <button (click)="next()" [disabled]="!canGoNext" [class.opacity-50]="!canGoNext"
        [class.cursor-not-allowed]="!canGoNext"
        class="absolute top-1/2 right-0 -translate-y-1/2 z-30 flex items-center justify-center w-10 h-10 rounded-full bg-white/30 hover:bg-white/50 focus:outline-none focus:ring-4 focus:ring-white transition-all">
        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
    </button>

    <!-- Indicators -->
    <div class="flex justify-center gap-2 mt-4">
        @for(dot of [].constructor(totalDots); track $index) {
        <button (click)="goToSlide($index)" [class.bg-blue-500]="currentIndex === $index"
            [class.bg-gray-400]="currentIndex !== $index" class="w-3 h-3 rounded-full transition-colors">
        </button>
        }
    </div>
</div>