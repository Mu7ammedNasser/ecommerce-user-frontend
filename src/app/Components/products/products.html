<div
  class="group bg-white dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-primary/50 transition-all duration-300 overflow-hidden"
>
  <div class="relative aspect-square overflow-hidden bg-slate-100 dark:bg-slate-900">
    @if (product.onSale) {
      <div class="absolute top-3 left-3 z-10">
        <span
          class="bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-widest"
          >Sale</span
        >
      </div>
    }

    <div
      class="w-full h-full transition-transform duration-500 group-hover:scale-110 bg-cover bg-center group-hover:rotate-6"
      [style.background-image]="'url(' + product?.imgUrl + ')'"
      [attr.data-alt]="product.title"
    ></div>
  </div>

  <!-- Product Details -->
  <div class="p-5">
    <!-- Category -->
    <p class="text-xs font-semibold text-blue-500 mb-1 uppercase tracking-wider ">
      {{ product.categoryLabel }}
    </p>

    <!-- Title -->
    <h3 class="text-lg font-bold mb-2 text-white transition-colors line-clamp-1">
      {{ product.title }}
    </h3>

    <!-- Rating -->
    <div class="flex items-center gap-1 mb-3">
      <div class="flex text-yellow-500">
        @for (star of [1, 2, 3, 4, 5]; track star) {
          <span class="text-sm" [ngClass]="star > product.rating ? 'text-slate-400' : 'text-yellow-500'">
            <i class="fa-star" [ngClass]="star <= product.rating ? 'fa-solid' : 'fa-solid'"></i>
          </span>
        }
      </div>
      <span class="text-xs text-slate-500 font-medium">({{ product.reviews }} reviews)</span>
    </div>

    <!-- Price + Cart -->
    <div class="flex items-center justify-between mt-auto">
      <div class="flex flex-col">
        <span class="text-xl font-black text-white">${{ product.price.toFixed(2) }}</span>
        @if (product.onSale) {
          <span class="text-xs text-white line-through"
            >${{ product.originalPrice.toFixed(2) }}</span
          >
        }
      </div>
      <button
        class="p-2.5 rounded-lg bg-primary text-white hover:bg-primary/90 transition-all shadow-lg shadow-primary/20"
      >
        <i class="fa-solid fa-cart-plus text-white text-lg cursor-pointer hover:text-blue-500 transition-all duration-300" ></i>
      </button>
    </div>
  </div>
</div>
